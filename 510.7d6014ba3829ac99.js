"use strict";(self.webpackChunkproyectoCoderArana=self.webpackChunkproyectoCoderArana||[]).push([[510],{510:(Ot,L,l)=>{l.r(L),l.d(L,{UsuariosModule:()=>Dt});var C=l(6895),h=l(493),T=l(4351),b=l(4004),u=l(9653);const v=(0,u.PH)("[Usuarios] Cargar Usuarios"),k=(0,u.PH)("[Usuarios] Usuarios Cargados",(0,u.Ky)()),q=(0,u.PH)("[Usuarios] Agregar Usuario",(0,u.Ky)()),x=(0,u.PH)("[Usuarios] Editar Usuario",(0,u.Ky)()),y=(0,u.PH)("[Usuarios] Eliminar Usuario",(0,u.Ky)());var t=l(4650),I=l(2340),z=l(529);let Q=(()=>{class o{constructor(r){this.http=r}obtenerUsuarios(){return this.http.get(`${I.N.api}/usuarios`)}agregarUsuario(r){return this.http.post(`${I.N.api}/usuarios`,r)}editarUsuario(r){return this.http.put(`${I.N.api}/usuarios/${r.id}`,r)}eliminarUsuario(r){return this.http.delete(`${I.N.api}/usuarios/${r.id}`)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(z.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})(),G=(()=>{class o{constructor(r,e){this.actions$=r,this.usuarios=e,this.cargarUsuarios$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(v),(0,T.b)(()=>this.usuarios.obtenerUsuarios().pipe((0,b.U)(i=>k({usuarios:i})))))),this.agregarUsuarios$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(q),(0,T.b)(({usuario:i})=>this.usuarios.agregarUsuario(i).pipe((0,b.U)(s=>v()))))),this.eliminarUsuario$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(y),(0,T.b)(({usuario:i})=>this.usuarios.eliminarUsuario(i).pipe((0,b.U)(s=>v()))))),this.editarUsuario$=(0,h.GW)(()=>this.actions$.pipe((0,h.l4)(x),(0,T.b)(({usuario:i})=>this.usuarios.editarUsuario(i).pipe((0,b.U)(s=>v())))))}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(h.eX),t.LFG(Q))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var Y=l(6582),n=l(4006),m=l(5412),N=l(4859),A=l(9549),E=l(4144),$=l(455);function R(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function S(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}function H(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function M(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}function W(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function j(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function K(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}function B(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function X(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}let J=(()=>{class o{constructor(r,e,i){this.dialogRef=r,this.usuario=e,this.storeUsuarios=i,this.formulario=new n.cw({nombre:new n.NI(this.usuario.nombre,[n.kI.required,n.kI.pattern("^(?!.* $)[A-Za-z ]+$")]),apellido:new n.NI(this.usuario.apellido,[n.kI.required,n.kI.pattern("^(?!.* $)[A-Za-z ]+$")]),usuario:new n.NI(this.usuario.usuario,[n.kI.required]),email:new n.NI(this.usuario.email,[n.kI.required,n.kI.pattern("^[_A-Za-z0-9-]+(.[_A-Za-z0-9-]+)*@[a-z0-9-]+.[a-z]{2,3}$")]),contrasena:new n.NI(this.usuario.contrasena,[n.kI.required,n.kI.minLength(6),n.kI.pattern("^.*[A-Z]+.*$")]),admin:new n.NI(this.usuario.admin)})}ngOnInit(){}cancelar(){this.dialogRef.close()}editar(){this.storeUsuarios.dispatch(x({usuario:{id:this.usuario.id,nombre:this.formulario.value.nombre,apellido:this.formulario.value.apellido,usuario:this.formulario.value.usuario,email:this.formulario.value.email,contrasena:this.formulario.value.contrasena,admin:this.formulario.value.admin}})),this.dialogRef.close()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(m.so),t.Y36(m.WI),t.Y36(u.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-usuarios-editar"]],decls:56,vars:10,consts:[["mat-dialog-title","",1,"tituloDialog"],[1,"d-flex","justify-content-center"],[1,"fw-bold","fs-6","text-uppercase"],["mat-dialog-content","",1,"mt-4"],[3,"formGroup"],[1,"d-flex","flex-column"],[1,"row"],[1,"col-md-6"],["appearance","fill"],["type","text","matInput","","autocomplete","off","formControlName","nombre"],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","apellido"],["type","text","matInput","","autocomplete","off","formControlName","usuario"],["type","text","matInput","","autocomplete","off","formControlName","contrasena"],["type","text","matInput","","autocomplete","off","formControlName","email"],[1,"d-flex","align-items-center","justify-content-center",2,"height","70%"],["formControlName","admin"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-button","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(r,e){if(1&r&&(t.TgZ(0,"h2",0),t._uU(1,"Editar Usuario"),t.qZA(),t.TgZ(2,"div",1)(3,"div")(4,"span",2),t._uU(5,"{{usuario.usuario}"),t.qZA()()(),t.TgZ(6,"div",3)(7,"form",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Nombre"),t.qZA(),t._UZ(14,"input",9),t.YNc(15,R,2,0,"mat-error",10),t.YNc(16,S,2,0,"mat-error",10),t.qZA()(),t.TgZ(17,"div",7)(18,"mat-form-field",8)(19,"mat-label"),t._uU(20,"Apellido"),t.qZA(),t._UZ(21,"input",11),t.YNc(22,H,2,0,"mat-error",10),t.YNc(23,M,2,0,"mat-error",10),t.qZA()()(),t.TgZ(24,"div",6)(25,"div",7)(26,"mat-form-field",8)(27,"mat-label"),t._uU(28,"Usuario"),t.qZA(),t._UZ(29,"input",12),t.YNc(30,W,2,0,"mat-error",10),t.qZA()(),t.TgZ(31,"div",7)(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Contrase\xf1a"),t.qZA(),t._UZ(35,"input",13),t.YNc(36,j,2,0,"mat-error",10),t.YNc(37,K,2,0,"mat-error",10),t.qZA()()(),t.TgZ(38,"div",6)(39,"div",7)(40,"mat-form-field",8)(41,"mat-label"),t._uU(42,"Email"),t.qZA(),t._UZ(43,"input",14),t.YNc(44,B,2,0,"mat-error",10),t.YNc(45,X,2,0,"mat-error",10),t.qZA()(),t.TgZ(46,"div",7)(47,"div",15)(48,"mat-slide-toggle",16),t._uU(49,"Admin"),t.qZA()()()()()()(),t.TgZ(50,"div",17)(51,"div")(52,"button",18),t.NdJ("click",function(){return e.cancelar()}),t._uU(53,"Cancelar"),t.qZA(),t.TgZ(54,"button",19),t.NdJ("click",function(){return e.editar()}),t._uU(55,"Editar"),t.qZA()()()),2&r){let i,s,c,d,f,_,g,U,Z;t.xp6(7),t.Q6J("formGroup",e.formulario),t.xp6(8),t.Q6J("ngIf",(null==(i=e.formulario.get("nombre"))?null:i.touched)&&(null==(i=e.formulario.get("nombre"))||null==i.errors?null:i.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(s=e.formulario.get("nombre"))?null:s.touched)&&(null==(s=e.formulario.get("nombre"))||null==s.errors?null:s.errors.pattern)),t.xp6(6),t.Q6J("ngIf",(null==(c=e.formulario.get("apellido"))?null:c.touched)&&(null==(c=e.formulario.get("apellido"))||null==c.errors?null:c.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(d=e.formulario.get("apellido"))?null:d.touched)&&(null==(d=e.formulario.get("apellido"))||null==d.errors?null:d.errors.pattern)),t.xp6(7),t.Q6J("ngIf",(null==(f=e.formulario.get("usuario"))?null:f.touched)&&(null==(f=e.formulario.get("usuario"))||null==f.errors?null:f.errors.required)),t.xp6(6),t.Q6J("ngIf",(null==(_=e.formulario.get("contrasena"))?null:_.touched)&&(null==(_=e.formulario.get("contrasena"))||null==_.errors?null:_.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(g=e.formulario.get("contrasena"))?null:g.touched)&&(null==(g=e.formulario.get("contrasena"))||null==g.errors?null:g.errors.pattern)),t.xp6(7),t.Q6J("ngIf",(null==(U=e.formulario.get("email"))?null:U.touched)&&(null==(U=e.formulario.get("email"))||null==U.errors?null:U.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(Z=e.formulario.get("email"))?null:Z.touched)&&(null==(Z=e.formulario.get("email"))||null==Z.errors?null:Z.errors.pattern))}},dependencies:[C.O5,N.lW,A.TO,A.KE,A.hX,E.Nt,$.Rr,m.uh,m.xY,m.H8,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),o})();var p=l(7155);const w="usuarios",V=(0,u.Lq)({cargando:!1,usuarios:[]},(0,u.on)(v,o=>({...o,cargando:!0})),(0,u.on)(k,(o,{usuarios:a})=>({...o,cargando:!1,usuarios:a})),(0,u.on)(q,(o,{})=>o),(0,u.on)(x,(o,{})=>o),(0,u.on)(y,(o,{})=>o)),F=(0,u.ZF)(w),tt=(0,u.P1)(F,o=>o.cargando),ot=(0,u.P1)(F,o=>o.usuarios);var rt=l(6474),D=l(7974);function et(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function at(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}function nt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function it(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}function lt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function ut(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function st(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}function mt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El campo es requerido"),t.qZA())}function ct(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1,"El formato no es correcto"),t.qZA())}let pt=(()=>{class o{constructor(r,e){this.dialogRef=r,this.storeUsuarios=e,this.formulario=new n.cw({nombre:new n.NI("",[n.kI.required,n.kI.pattern("^(?!.* $)[A-Za-z ]+$")]),apellido:new n.NI("",[n.kI.required,n.kI.pattern("^(?!.* $)[A-Za-z ]+$")]),usuario:new n.NI("",[n.kI.required]),email:new n.NI("",[n.kI.required,n.kI.pattern("^[_A-Za-z0-9-]+(.[_A-Za-z0-9-]+)*@[a-z0-9-]+.[a-z]{2,3}$")]),contrasena:new n.NI("",[n.kI.required,n.kI.minLength(6),n.kI.pattern("^.*[A-Z]+.*$")]),admin:new n.NI("")})}ngOnInit(){}cancelar(){this.dialogRef.close()}agregar(){this.storeUsuarios.dispatch(q({usuario:{id:1,nombre:this.formulario.value.nombre,apellido:this.formulario.value.apellido,usuario:this.formulario.value.usuario,email:this.formulario.value.email,contrasena:this.formulario.value.contrasena,admin:this.formulario.value.admin}})),this.dialogRef.close()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(m.so),t.Y36(u.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-agregar-usuarios"]],decls:52,vars:11,consts:[["mat-dialog-title","",1,"tituloDialog"],["mat-dialog-content","",1,"mt-4"],[3,"formGroup"],[1,"d-flex","flex-column"],[1,"row"],[1,"col-md-6"],["appearance","fill"],["type","text","matInput","","autocomplete","off","formControlName","nombre"],[4,"ngIf"],["type","text","matInput","","autocomplete","off","formControlName","apellido"],["type","text","matInput","","autocomplete","off","formControlName","usuario"],["type","text","matInput","","autocomplete","off","formControlName","contrasena"],["type","text","matInput","","autocomplete","off","formControlName","email"],[1,"d-flex","align-items-center","justify-content-center",2,"height","70%"],["formControlName","admin"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-button","",3,"click"],["mat-raised-button","","color","accent",3,"disabled","click"]],template:function(r,e){if(1&r&&(t.TgZ(0,"h2",0),t._uU(1,"Crear Usuario"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",7),t.YNc(11,et,2,0,"mat-error",8),t.YNc(12,at,2,0,"mat-error",8),t.qZA()(),t.TgZ(13,"div",5)(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Apellido"),t.qZA(),t._UZ(17,"input",9),t.YNc(18,nt,2,0,"mat-error",8),t.YNc(19,it,2,0,"mat-error",8),t.qZA()()(),t.TgZ(20,"div",4)(21,"div",5)(22,"mat-form-field",6)(23,"mat-label"),t._uU(24,"Usuario"),t.qZA(),t._UZ(25,"input",10),t.YNc(26,lt,2,0,"mat-error",8),t.qZA()(),t.TgZ(27,"div",5)(28,"mat-form-field",6)(29,"mat-label"),t._uU(30,"Contrase\xf1a"),t.qZA(),t._UZ(31,"input",11),t.YNc(32,ut,2,0,"mat-error",8),t.YNc(33,st,2,0,"mat-error",8),t.qZA()()(),t.TgZ(34,"div",4)(35,"div",5)(36,"mat-form-field",6)(37,"mat-label"),t._uU(38,"Email"),t.qZA(),t._UZ(39,"input",12),t.YNc(40,mt,2,0,"mat-error",8),t.YNc(41,ct,2,0,"mat-error",8),t.qZA()(),t.TgZ(42,"div",5)(43,"div",13)(44,"mat-slide-toggle",14),t._uU(45,"Admin"),t.qZA()()()()()()(),t.TgZ(46,"div",15)(47,"div")(48,"button",16),t.NdJ("click",function(){return e.cancelar()}),t._uU(49,"Cancelar"),t.qZA(),t.TgZ(50,"button",17),t.NdJ("click",function(){return e.agregar()}),t._uU(51,"Agregar"),t.qZA()()()),2&r){let i,s,c,d,f,_,g,U,Z;t.xp6(3),t.Q6J("formGroup",e.formulario),t.xp6(8),t.Q6J("ngIf",(null==(i=e.formulario.get("nombre"))?null:i.touched)&&(null==(i=e.formulario.get("nombre"))||null==i.errors?null:i.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(s=e.formulario.get("nombre"))?null:s.touched)&&(null==(s=e.formulario.get("nombre"))||null==s.errors?null:s.errors.pattern)),t.xp6(6),t.Q6J("ngIf",(null==(c=e.formulario.get("apellido"))?null:c.touched)&&(null==(c=e.formulario.get("apellido"))||null==c.errors?null:c.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(d=e.formulario.get("apellido"))?null:d.touched)&&(null==(d=e.formulario.get("apellido"))||null==d.errors?null:d.errors.pattern)),t.xp6(7),t.Q6J("ngIf",(null==(f=e.formulario.get("usuario"))?null:f.touched)&&(null==(f=e.formulario.get("usuario"))||null==f.errors?null:f.errors.required)),t.xp6(6),t.Q6J("ngIf",(null==(_=e.formulario.get("contrasena"))?null:_.touched)&&(null==(_=e.formulario.get("contrasena"))||null==_.errors?null:_.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(g=e.formulario.get("contrasena"))?null:g.touched)&&(null==(g=e.formulario.get("contrasena"))||null==g.errors?null:g.errors.pattern)),t.xp6(7),t.Q6J("ngIf",(null==(U=e.formulario.get("email"))?null:U.touched)&&(null==(U=e.formulario.get("email"))||null==U.errors?null:U.errors.required)),t.xp6(1),t.Q6J("ngIf",(null==(Z=e.formulario.get("email"))?null:Z.touched)&&(null==(Z=e.formulario.get("email"))||null==Z.errors?null:Z.errors.pattern)),t.xp6(9),t.Q6J("disabled",e.formulario.invalid)}},dependencies:[C.O5,N.lW,A.TO,A.KE,A.hX,E.Nt,$.Rr,m.uh,m.xY,m.H8,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]}),o})(),dt=(()=>{class o{constructor(r,e,i){this.dialogRef=r,this.usuario=e,this.storeUsuarios=i,this.storeUsuarios.dispatch(v())}ngOnInit(){}cancelar(){this.dialogRef.close()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(m.so),t.Y36(m.WI),t.Y36(u.yh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-detalle-usuarios"]],decls:9,vars:3,consts:[["mat-dialog-title","",1,"tituloDialog"],["mat-dialog-actions","",1,"d-flex","justify-content-end"],["mat-button","",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"h2",0),t._uU(1,"Detalle Usuario"),t.qZA(),t.TgZ(2,"pre"),t._uU(3),t.ALo(4,"json"),t.qZA(),t.TgZ(5,"div",1)(6,"div")(7,"button",2),t.NdJ("click",function(){return e.cancelar()}),t._uU(8,"Cancelar"),t.qZA()()()),2&r&&(t.xp6(3),t.hij("  ",t.lcZ(4,1,e.usuario),"\n"))},dependencies:[N.lW,m.uh,m.H8,C.Ts]}),o})();var ft=l(7392),_t=l(1572),gt=l(7224);function Ut(o,a){if(1&o){const r=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){t.CHM(r);const i=t.oxw(2);return t.KtG(i.crear())}),t.TgZ(1,"mat-icon",13),t._uU(2,"add_circle"),t.qZA(),t._uU(3," Agregar Usuario "),t.qZA()}}function Zt(o,a){1&o&&t._UZ(0,"mat-spinner")}function ht(o,a){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Nombre"),t.qZA())}function At(o,a){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.Oqu(r.nombre)}}function vt(o,a){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Apellido"),t.qZA())}function Ct(o,a){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.Oqu(r.apellido)}}function Tt(o,a){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Usuario"),t.qZA())}function bt(o,a){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.Oqu(r.usuario)}}function It(o,a){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Admin"),t.qZA())}function Nt(o,a){if(1&o&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"booleanSiNo"),t.qZA()),2&o){const r=a.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,r.admin))}}function qt(o,a){1&o&&(t.TgZ(0,"th",24),t._uU(1,"Acciones"),t.qZA())}function xt(o,a){if(1&o){const r=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.editar(i))}),t.TgZ(1,"mat-icon",30),t._uU(2,"edit"),t.qZA()()}}function yt(o,a){if(1&o){const r=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(r);const i=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.eliminar(i))}),t.TgZ(1,"mat-icon",31),t._uU(2,"delete"),t.qZA()()}}function Yt(o,a){if(1&o){const r=t.EpF();t.TgZ(0,"td",25)(1,"div",26)(2,"button",27),t.NdJ("click",function(){const s=t.CHM(r).$implicit,c=t.oxw(3);return t.KtG(c.detalle(s))}),t.TgZ(3,"mat-icon",28),t._uU(4,"visibility"),t.qZA()(),t.YNc(5,xt,3,0,"button",29),t.YNc(6,yt,3,0,"button",29),t.qZA()()}if(2&o){const r=t.oxw(2).ngIf;t.xp6(5),t.Q6J("ngIf",null==r.usuarioActivo?null:r.usuarioActivo.admin),t.xp6(1),t.Q6J("ngIf",null==r.usuarioActivo?null:r.usuarioActivo.admin)}}function Et(o,a){1&o&&t._UZ(0,"tr",32)}function Jt(o,a){1&o&&t._UZ(0,"tr",33)}function Lt(o,a){if(1&o&&(t.TgZ(0,"table",14),t.ynx(1,15),t.YNc(2,ht,2,0,"th",16),t.YNc(3,At,2,1,"td",17),t.BQk(),t.ynx(4,18),t.YNc(5,vt,2,0,"th",16),t.YNc(6,Ct,2,1,"td",17),t.BQk(),t.ynx(7,19),t.YNc(8,Tt,2,0,"th",16),t.YNc(9,bt,2,1,"td",17),t.BQk(),t.ynx(10,20),t.YNc(11,It,2,0,"th",16),t.YNc(12,Nt,3,3,"td",17),t.BQk(),t.ynx(13,21),t.YNc(14,qt,2,0,"th",16),t.YNc(15,Yt,7,2,"td",17),t.BQk(),t.YNc(16,Et,1,0,"tr",22),t.YNc(17,Jt,1,0,"tr",23),t.qZA()),2&o){const r=t.oxw(2);t.Q6J("dataSource",r.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",r.columnas),t.xp6(1),t.Q6J("matRowDefColumns",r.columnas)}}const kt=function(){return[5,10,20]};function Qt(o,a){if(1&o){const r=t.EpF();t.TgZ(0,"div",1)(1,"h2",2),t._uU(2,"Listado de Usuarios"),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),t._uU(7,"Filtrar"),t.qZA(),t.TgZ(8,"input",6,7),t.NdJ("keyup",function(i){t.CHM(r);const s=t.oxw();return t.KtG(s.applyFilter(i))}),t.qZA()()(),t.YNc(10,Ut,4,0,"button",8),t.qZA(),t.YNc(11,Zt,1,0,"mat-spinner",9),t.ALo(12,"async"),t.YNc(13,Lt,18,3,"table",10),t.ALo(14,"async"),t._UZ(15,"mat-paginator",11),t.qZA()}if(2&o){const r=a.ngIf,e=t.oxw();t.xp6(10),t.Q6J("ngIf",null==r.usuarioActivo?null:r.usuarioActivo.admin),t.xp6(1),t.Q6J("ngIf",t.lcZ(12,4,e.cargando$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(14,6,e.cargando$)),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(8,kt))}}let O=(()=>{class o{constructor(r,e,i){this.storeUsuarios=r,this.storeSesion=e,this.dialog=i,this.columnas=["nombre","apellido","usuario","admin","acciones"],this.storeUsuarios.dispatch(v())}ngOnInit(){this.cargando$=this.storeUsuarios.select(tt),this.sesion$=this.storeSesion.select(rt.F),this.suscripcionUsuarios=this.storeUsuarios.select(ot).subscribe(r=>{this.dataSource=new p.by(r),this.dataSource.paginator=this.paginator})}ngOnDestroy(){}applyFilter(r){this.dataSource.filter=r.target.value.trim().toLowerCase()}crear(){this.dialog.open(pt,{minWidth:"400px"})}detalle(r){this.dialog.open(dt,{minWidth:"400px",data:r})}editar(r){this.dialog.open(J,{minWidth:"400px",data:r})}eliminar(r){this.storeUsuarios.dispatch(y({usuario:r}))}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.yh),t.Y36(u.yh),t.Y36(m.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-lista-usuarios"]],viewQuery:function(r,e){if(1&r&&t.Gf(D.NW,5),2&r){let i;t.iGM(i=t.CRH())&&(e.paginator=i.first)}},decls:2,vars:3,consts:[["class","row col-md-9",4,"ngIf"],[1,"row","col-md-9"],[1,"titulos"],[1,"d-flex","align-items-center"],[1,"row","col-md-4"],["appearance","fill"],["matInput","","autocomplete","off","placeholder","",3,"keyup"],["input",""],["mat-raised-button","","class","botonAgregar colorVerde ms-auto",3,"click",4,"ngIf"],[4,"ngIf"],["class","lista-tabla","mat-table","",3,"dataSource",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-raised-button","",1,"botonAgregar","colorVerde","ms-auto",3,"click"],[1,"botonVerde"],["mat-table","",1,"lista-tabla",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","apellido"],["matColumnDef","usuario"],["matColumnDef","admin"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"d-flex","justify-content-center"],["mat-icon-button","",3,"click"],[1,"colorIconoVer"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"colorIconoEditar"],[1,"colorIconoEliminar"],["mat-header-row",""],["mat-row",""]],template:function(r,e){1&r&&(t.YNc(0,Qt,16,9,"div",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.sesion$))},dependencies:[C.O5,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,ft.Hw,N.lW,A.KE,A.hX,E.Nt,_t.Ou,D.NW,C.Ov,gt.f],styles:[".botonAgregar[_ngcontent-%COMP%]{background-color:#20b2aa;color:#fff}"]}),o})();const $t=[{path:"",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-inicio-usuarios"]],decls:2,vars:0,template:function(r,e){1&r&&t._UZ(0,"router-outlet")(1,"app-lista-usuarios")},dependencies:[Y.lC,O]}),o})(),children:[{path:"editar",component:J},{path:"cargar",component:J},{path:"lista",component:O}]}];let wt=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[Y.Bz.forChild($t),Y.Bz]}),o})();var Ft=l(4466);let Dt=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[Q],imports:[C.ez,wt,Ft.m,u.Aw.forFeature(w,V),h.sQ.forFeature([G])]}),o})()}}]);